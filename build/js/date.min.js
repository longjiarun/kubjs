!function(t,e){"function"==typeof define?define(function(){return e(t)}):"undefined"!=typeof exports?module.exports=e(t):t.dateHelper=e(t)}(this,function(){"use strict";var t=function(){var e=t.prototype.instance;return e&&e instanceof t?e:void(t.prototype.instance=this)};(function(){this.constructor=t,this.i18n={en:{month:{abbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],full:["January","February","March","April","May","June","July","August","September","October","November","December"]},day:{abbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},amPm:{abbr:["AM","PM"],full:["A.M.","P.M."]}},zh:{month:{abbr:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],full:["一月份","二月份","三月份","四月份","五月份","六月份","七月份","八月份","九月份","十月份","十一月份","十二月份"]},day:{abbr:["日","一","二","三","四","五","六"],full:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"]},amPm:{abbr:["上午","下午"],full:["上午","下午"]}}},this.locale="zh",this.addLocale=function(t,e){return t&&e&&(this.i18n[t]=e),this},this.setLocale=function(t){return this.locale=t,this},this._get2Year=function(t){return(t.getFullYear()+"").replace(/\d{2}$/,"00")-0},this._get2=function(t){return 10>t?"0"+t:t},this._getAmPm=function(t){return t.getHours()<12?0:1},this._getValueByPattern=function(t,e){var n=this,a={yyyy:e.getFullYear(),yy:e.getFullYear()-n._get2Year(e),MMMM:n.i18n[n.locale].month.full[e.getMonth()],MMM:n.i18n[n.locale].month.abbr[e.getMonth()],MM:n._get2(e.getMonth()+1),M:e.getMonth()+1,dddd:n.i18n[n.locale].day.full[e.getDay()],ddd:n.i18n[n.locale].day.abbr[e.getDay()],dd:n._get2(e.getDate()),d:e.getDate(),HH:n._get2(e.getHours()),H:e.getHours(),mm:n._get2(e.getMinutes()),m:e.getMinutes(),ss:n._get2(e.getSeconds()),s:e.getSeconds(),aa:n.i18n[n.locale].amPm.full[n._getAmPm(e)],a:n.i18n[n.locale].amPm.abbr[n._getAmPm(e)]};return a[t]},this.format=function(t,e){var n=this;if(t)return e=e||"yyyy-MM-dd",e=e.replace(/(yyyy|yy|MMMM|MMM|MM|M|dddd|ddd|dd|d|HH|H|mm|m|ss|s|aa|a)/g,function(e){return n._getValueByPattern(e,t)})},this.parse=function(t,e){if(t&&e){var n=t.match(/(\d+)/g),a=0,r={};e.replace(/(yyyy|yy|MM|M|dd|d|HH|H|mm|m|ss|s)/g,function(t){r[t]=a++});var u=n[r.yyyy]||parseInt(n[r.yy],10)+this._get2Year(new Date)||0,o=n[r.MM]-1||n[r.M]-1||0,i=n[r.dd]||n[r.d]||0,s=n[r.HH]||n[r.H]||0,y=n[r.mm]||n[r.m]||0,d=n[r.ss]||n[r.s]||0;return new Date(u,o,i,s,y,d)}}}).call(t.prototype);var e=new t;return String.prototype.parseDate=function(t){return e.parse(this,t)},Date.prototype.format=function(t){return e.format(this,t)},e});