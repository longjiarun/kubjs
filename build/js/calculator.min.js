!function(t,i){"function"==typeof define?define(function(){return i(t)}):"undefined"!=typeof exports?module.exports=i(t):t.calculator=i(t)}(this,function(){"use strict";var t=function(){var i=t.prototype.instance;return i&&i instanceof t?i:void(t.prototype.instance=this)};return function(){function i(t,i){var n,r,e=this.getDecimalDigit(t),o=this.getDecimalDigit(i),a=e-o,u=Math.pow(10,Math.abs(a)),c=Math.pow(10,Math.max(e,o));return n=Number(t.toString().replace(".","")),r=Number(i.toString().replace(".","")),t=e?0>a?n*u:n:t*c,i=o?a>0?r*u:r:i*c,{a:t,b:i,m:c}}this.constructor=t,this.isNumber=function(t){return"[object Number]"===Object.prototype.toString.call(t)},this.getDecimalDigit=function(t){t=Math.abs(t);var i=t.toString().length-parseInt(t,10).toString().length-1;return 0>i?0:i},this._getDecimalDigit=function(t){var i=/^-?\d+(\.(\d+))?/,n=t.toString().match(i);return n&&n[2]?n[2].length:0},this.toFixed2=function(t,i,n){var r,e,o=/^(-?\d+)(\.(\d+))?/,a=t.toString().match(o);return 0>i?t:a?(r=a[1]||"0",t=Number(0!=i?r+(a[3]?"."+a[3].substr(0,i):""):r),!n&&a[3]&&parseInt(a[3].substr(i,1),10)>=5&&(t=this.add(t,t>=0?Math.pow(10,-i):-Math.pow(10,-i))),e=i-this.getDecimalDigit(t),t=t.toString(),t=e>0?t+(e===i?".":"")+new Array(e+1).join("0"):t):void 0},this.add=function(t,n){var r=i.call(this,t,n);return(r.a+r.b)/r.m},this.sub=function(t,i){return this.add(t,-i)},this.mul=function(t,n){var r=i.call(this,t,n);return r.a*r.b/(r.m*r.m)},this.div=function(t,n){var r=i.call(this,t,n);return r.a/r.b};for(var n=["add","sub","mul","div","toFixed2"],r=n.length,e=t.prototype;r--;)!function(t){Number.prototype[n[t]]=function(i,r){return e[n[t]].call(e,this,i,r)}}(r)}.call(t.prototype),new t});